<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Kelvin's Sprite Creator</title>
<link
     rel="icon"
     href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' fill='%2310B981'/><text x='50%' y='50%' dominant-baseline='central' text-anchor='middle' font-size='70' fill='white' font-weight='bold'>K</text></svg>"
   />
<link rel="stylesheet" href="css/style.css">
</head>
<body>
<div id="paste-overlay">Processing Image...</div>
<div id="autosave-indicator">ğŸ’¾ Saved</div>
<div class="sidebar">
<h1 class="app-title">Kelvin's<br>Sprite Creator</h1>
<div>
<h3>Tools</h3>
<div class="tool-group">
<button id="btn-select" onclick="setTool('select')" title="Select/Move (S) | Ctrl+Click to Add Pixel">âœ‚ï¸</button>
<button id="btn-pen" class="active" onclick="setTool('pen')" title="Pen (P)">âœï¸</button>
<button id="btn-eraser" onclick="setTool('eraser')" title="Eraser (E)">ğŸ§¹</button>
<button id="btn-picker" onclick="setTool('picker')" title="Picker (I)">ğŸ§ª</button>
<button id="btn-bucket" onclick="setTool('bucket')" title="Bucket (B)">ğŸª£</button>
<button id="btn-line" onclick="setTool('line')" title="Line Tool (L)">ğŸ“</button>
<button id="btn-rect" onclick="setTool('rect')" title="Rectangle (R)">â¬œ</button>
<button id="btn-circle" onclick="setTool('circle')" title="Ellipse/Circle (C)">â­•</button>
<button id="btn-lighten" onclick="setTool('lighten')" title="Lighten/Highlight (U)">â˜€ï¸</button>
<button id="btn-darken" onclick="setTool('darken')" title="Darken/Shade (D)">ğŸŒ‘</button>
<button onclick="clearCanvas()" title="Clear Frame (Del)">âŒ</button>
</div>
<div class="brush-control">
<span style="font-size:0.8em; color:#aaa;">Size:</span>
<input type="range" id="brush-slider" min="1" max="8" value="1" style="flex:1" title="Brush Size">
<span id="brush-display" style="width:15px; text-align:center; font-size:0.9em;">1</span>
</div>
<div style="display:flex; gap:5px; margin-top:5px; flex-wrap: wrap;">
<button style="flex:1" onclick="undo()" title="Undo (Ctrl+Z)">â†©ï¸</button>
<button style="flex:1" onclick="redo()" title="Redo (Ctrl+Y)">â†ªï¸</button>
<button id="btn-grid" style="width: 35px" class="active" onclick="toggleGrid()" title="Toggle Grid Overlay (G)">#</button>
<button id="btn-onion" style="width: 35px" onclick="toggleOnion()" title="Toggle Onion Skin (O)">ğŸ§…</button>
<button id="btn-mirror-x" style="width: 35px" onclick="toggleMirrorX()" title="Mirror Horizontal (M)">â†”ï¸</button>
<button id="btn-mirror-y" style="width: 35px" onclick="toggleMirrorY()" title="Mirror Vertical (N)">â†•ï¸</button>
</div>
</div>
<div class="color-section">
<h3>Palette</h3>
<div class="color-controls">
<div class="current-color-row">
<div id="drag-source" draggable="true" title="Drag to Palette"></div>
<div class="input-group">
<input type="text" id="hex-input" value="#000000">
<input type="color" id="color-picker" value="#000000">
</div>
</div>
<div class="palette" id="palette-container"></div>
<div style="font-size:0.7em; color:#888; text-align:center; margin-top:5px;">Right-click a slot to delete it</div>
</div>
</div>
<div>
<h3>Animation</h3>
<div class="preview-box">
<canvas id="preview-canvas" width="64" height="64"></canvas>
<div class="control-row" style="margin-top:5px;">
<label>FPS: <span id="fps-display">8</span></label>
<input type="range" id="fps-slider" min="1" max="24" value="8">
</div>
<button id="btn-play" style="width:100%; margin-top:5px;">â¯ï¸ Play/Pause</button>
</div>
<h4 style="margin: 10px 0 5px;">Frames</h4>
<div class="frame-list" id="frame-list"></div>
<div style="margin-top:5px; display:flex; gap:5px;">
<button onclick="addFrame()" style="flex:1;">+ Add</button>
<button onclick="duplicateFrame()" style="flex:1;">Copy</button>
<button onclick="deleteFrame()" style="width:30px;">ğŸ—‘ï¸</button>
</div>
</div>
<div>
<h3>ğŸŒ Import</h3>
<div class="import-box">
<a href="https://www.google.com/search?q=pixel+art+sprite+simple+transparent&tbm=isch" target="_blank" class="btn-search" title="Search">ğŸ” Search Online</a>
<div style="font-size:0.8em; color:#aaa; margin:5px 0;">Paste images with <strong>Ctrl+V</strong></div>
<button class="btn-upload" onclick="document.getElementById('file-input').click()">ğŸ“ Upload</button>
<input type="file" id="file-input" accept="image/*" onchange="handleFileUpload(this)">
</div>
</div>
<div>
<h3>Project</h3>
<div class="control-row">
<label>Size:</label>
<input type="number" id="size-input" value="32" min="8" max="64">
<button onclick="resizeGrid()">Set</button>
</div>
<div style="margin-top:15px; display:flex; gap:5px;">
<button onclick="exportImage()" style="flex:1;">ğŸ’¾ PNG</button>
<button onclick="exportSpriteSheet()" style="flex:1;">ğŸï¸ Sheet</button>
</div>
</div>
</div>
<div class="main-area" id="main-area">
<canvas id="editor-canvas"></canvas>
</div>
<script src="js/utils.js"></script>
<script src="js/state.js"></script>
<script src="js/logic.js"></script>
<script src="js/main.js"></script>
</body>
</html>